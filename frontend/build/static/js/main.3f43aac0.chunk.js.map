{"version":3,"sources":["pages/HomePage.js","store/user/selectors.js","components/Navigation/NavbarItem.js","config/constants.js","store/user/actions.js","components/Navigation/LoggedIn.js","components/Navigation/LoggedOut.js","components/CoffeCup.js","components/Navigation/index.js","pages/SignUp/index.js","pages/Login/index.js","pages/QRCodePage.js","pages/MyCardsPage.js","pages/CardDetailsPage.js","pages/ScanStampPage.js","pages/ScanVoucherPage.js","pages/BeanDetails.js","pages/MyVouchers.js","App.js","reportWebVitals.js","store/user/reducer.js","store/rootReducer.js","store/index.js","index.js"],"names":["HomePage","style","textAlign","marginTop","className","selectToken","state","user","token","selectUser","NavbarItem","props","Nav","Item","Link","as","NavLink","to","path","linkText","apiUrl","process","API_URL","LOGIN_SUCCESS","TOKEN_STILL_VALID","LOG_OUT","loginSuccess","userWithToken","type","payload","logOut","LoggedIn","dispatch","useDispatch","useSelector","padding","email","Button","onClick","LoggedOut","CoffeCup","xmlns","height","viewBox","width","fill","d","Navigation","loginLogoutControls","Navbar","bg","variant","expand","Brand","marginLeft","fontSize","fontFamily","fontStyle","display","marginRight","margin","color","Toggle","Collapse","id","isStore","SignUp","useState","name","setName","setEmail","password","setPassword","setIsStore","stampLimit","setStampLimit","history","useHistory","useEffect","push","Container","Form","Col","md","span","offset","Group","controlId","Label","Control","value","onChange","event","target","placeholder","required","Text","Check","label","min","max","preventDefault","getState","a","axios","post","response","data","console","log","message","signUp","login","QRCodePage","bean","setBean","quantity","setQuantity","qrCodeValue","setQrCodeValue","get","store","qrCodeUrl","JSON","stringify","justifyContent","alignItems","flexDirection","alignSelf","for","e","form","class","MyCardsPage","myStampCards","setMyStampCards","userId","localStorage","getItem","headers","Authorization","map","stampCard","stamps","Card","Body","Title","store_name","Array","i","CardDetailsPage","myCard","setMyCard","storeId","useParams","marginBottom","currentStamps","lastBean","ScanStampPage","query","search","useLocation","React","useMemo","URLSearchParams","useQuery","otpToken","storeUser","setScanFailed","ScanVoucherPage","voucherId","claimedVoucher","setClaimedVoucher","errorMessage","setErrorMessage","put","BeanDetails","beanId","fontWeight","facts","MyVouchers","myVouchers","setMyVouchers","isArray","voucher","baseUrl","window","location","origin","url","Modal","show","onHide","Header","closeButton","Footer","App","userWithoutToken","exact","component","Login","QRcodePage","PureComponent","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","combineReducers","action","setItem","removeItem","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","ReduxThunk","createStore","reducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3f43aac0.chunk.js","sourcesContent":["export default function HomePage() {\n  return (\n    <div\n      style={{\n        textAlign: \"center\",\n        marginTop: 200,\n      }}\n    >\n      <h1>\n        <span className=\"welcome\"> Welcome to</span>{\" \"}\n        <span className=\"coffeeCard\"> CoffeeCard! </span>\n      </h1>\n      <h3>Replace stamp cards by a simple step: scanning a QR code!</h3>\n    </div>\n  );\n}\n","export const selectToken = (state) => state.user.token;\n\nexport const selectUser = (state) => state.user;\n\nexport const selectUserId = (state) => state.user.id;\n","import React from \"react\";\nimport Nav from \"react-bootstrap/Nav\";\nimport { NavLink } from \"react-router-dom\";\n\nexport default function NavbarItem(props) {\n  return (\n    <Nav.Item>\n      <Nav.Link as={NavLink} to={props.path}>\n        {props.linkText}\n      </Nav.Link>\n    </Nav.Item>\n  );\n}\n","export const apiUrl = process.env.API_URL || \"http://localhost:4000\";\nexport const DEFAULT_MESSAGE_TIMEOUT = 3000;\n","import { apiUrl } from \"../../config/constants\";\nimport axios from \"axios\";\nimport { selectToken } from \"./selectors\";\n\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const TOKEN_STILL_VALID = \"TOKEN_STILL_VALID\";\nexport const LOG_OUT = \"LOG_OUT\";\n\nconst loginSuccess = (userWithToken) => {\n  return {\n    type: LOGIN_SUCCESS,\n    payload: userWithToken,\n  };\n};\n\nconst tokenStillValid = (userWithoutToken) => ({\n  type: TOKEN_STILL_VALID,\n  payload: userWithoutToken,\n});\n\nexport const logOut = () => ({ type: LOG_OUT });\n\nexport const signUp = (name, email, password, isStore, stampLimit) => {\n  return async (dispatch, getState) => {\n    try {\n      const response = await axios.post(`${apiUrl}/auth/signup`, {\n        name,\n        email,\n        password,\n        isStore,\n        stampLimit,\n      });\n\n      dispatch(loginSuccess(response.data));\n    } catch (error) {\n      if (error.response) {\n        console.log(error.response.data.message);\n      } else {\n        console.log(error.message);\n      }\n    }\n  };\n};\n\nexport const login = (email, password) => {\n  return async (dispatch, getState) => {\n    try {\n      const response = await axios.post(`/auth/login`, {\n        email,\n        password,\n      });\n\n      dispatch(loginSuccess(response.data));\n    } catch (error) {\n      if (error.response) {\n        console.log(error.response.data.message);\n      } else {\n        console.log(error.message);\n      }\n    }\n  };\n};\n\nexport const getUserWithStoredToken = () => {\n  return async (dispatch, getState) => {\n    // get token from the state\n    const token = selectToken(getState());\n\n    // if we have no token, stop\n    if (token === null) return;\n\n    try {\n      // if we do have a token,\n      // check wether it is still valid or if it is expired\n      const response = await axios.get(`/auth/me`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      // token is still valid\n      dispatch(tokenStillValid(response.data));\n    } catch (error) {\n      if (error.response) {\n        console.log(error.response.message);\n      } else {\n        console.log(error);\n      }\n      // if we get a 4xx or 5xx response,\n      // get rid of the token by logging out\n      dispatch(logOut());\n    }\n  };\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { logOut } from \"../../store/user/actions\";\nimport Button from \"react-bootstrap/Button\";\nimport { selectUser } from \"../../store/user/selectors\";\nimport Nav from \"react-bootstrap/Nav\";\n\nexport default function LoggedIn() {\n  const dispatch = useDispatch();\n  const user = useSelector(selectUser);\n  return (\n    <>\n      <Nav.Item style={{ padding: \".5rem 1rem\" }}>{user.email}</Nav.Item>\n      <Button onClick={() => dispatch(logOut())}>Logout</Button>\n    </>\n  );\n}\n","import React from \"react\";\nimport NavbarItem from \"./NavbarItem\";\n\nexport default function LoggedOut() {\n  return (\n    <>\n      <NavbarItem path=\"/login\" linkText=\"Login\" />\n    </>\n  );\n}\n","const CoffeCup = () => {\n  return (\n    <div className=\"coffeeCup\">\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        height=\"24px\"\n        viewBox=\"0 0 24 24\"\n        width=\"24px\"\n        fill=\"#000000\"\n      >\n        <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n        <path d=\"M16 5v8c0 1.1-.9 2-2 2H8c-1.1 0-2-.9-2-2V5h10m4-2H4v10c0 2.21 1.79 4 4 4h6c2.21 0 4-1.79 4-4v-3h2c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2zm-2 5V5h2v3h-2zm2 11H2v2h18v-2z\" />\n      </svg>\n    </div>\n  );\n};\nexport default CoffeCup;\n","import React from \"react\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport { NavLink } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { selectToken, selectUser } from \"../../store/user/selectors\";\nimport NavbarItem from \"./NavbarItem\";\nimport LoggedIn from \"./LoggedIn\";\nimport LoggedOut from \"./LoggedOut\";\nimport CoffeCup from \"../CoffeCup\";\nimport \"../../App.css\";\n\nexport default function Navigation() {\n  const token = useSelector(selectToken);\n  const user = useSelector(selectUser);\n\n  const loginLogoutControls = token ? <LoggedIn /> : <LoggedOut />;\n\n  return (\n    <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\n      <Navbar.Brand\n        style={{\n          marginLeft: \"10px\",\n          fontSize: 25,\n          fontFamily: \"Lobster\",\n          fontStyle: \"bold\",\n\n          display: \"flex\",\n          marginRight: \"50px\",\n        }}\n        as={NavLink}\n        to=\"/\"\n      >\n        CoffeeCard\n        <span style={{ margin: \"0 4px\" }}> </span>\n        <CoffeCup style={{ color: \"white\" }} />\n      </Navbar.Brand>\n\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav style={{ width: \"100%\", marginRight: \"10px\" }} fill>\n          <NavbarItem path=\"/\" linkText=\"Home\" />\n          {user.isStore && <NavbarItem path=\"qr\" linkText=\"QR code\" />}\n          {user.isStore === false && (\n            <NavbarItem path=\"/mycards\" linkText=\"My Cards\" />\n          )}\n          {user.isStore === false && (\n            <NavbarItem path=\"/myvouchers\" linkText=\"My vouchers\" />\n          )}\n          {user.isStore && <NavbarItem path=\"storechart\" linkText=\"my sales\" />}\n\n          {loginLogoutControls}\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Container from \"react-bootstrap/Container\";\nimport Button from \"react-bootstrap/Button\";\nimport { signUp } from \"../../store/user/actions\";\nimport { selectToken } from \"../../store/user/selectors\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { Col } from \"react-bootstrap\";\n\nexport default function SignUp() {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isStore, setIsStore] = useState(false);\n  const [stampLimit, setStampLimit] = useState(\"\");\n  const dispatch = useDispatch();\n  const token = useSelector(selectToken);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (token !== null) {\n      history.push(\"/\");\n    }\n  }, [token, history]);\n\n  function submitForm(event) {\n    event.preventDefault();\n\n    dispatch(signUp(name, email, password, isStore, stampLimit));\n    console.log(name, email, password, isStore, stampLimit);\n    setEmail(\"\");\n    setPassword(\"\");\n    setName(\"\");\n    setIsStore(false);\n  }\n\n  return (\n    <Container>\n      <Form as={Col} md={{ span: 6, offset: 3 }} className=\"mt-5\">\n        <h1 className=\"mt-5 mb-5\">Signup</h1>\n        <Form.Group controlId=\"formBasicName\">\n          <Form.Label>Name</Form.Label>\n          <Form.Control\n            value={name}\n            onChange={(event) => setName(event.target.value)}\n            type=\"text\"\n            placeholder=\"Enter name\"\n            required\n          />\n        </Form.Group>\n\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Label>Email address</Form.Label>\n          <Form.Control\n            value={email}\n            onChange={(event) => setEmail(event.target.value)}\n            type=\"email\"\n            placeholder=\"Enter email\"\n            required\n          />\n          <Form.Text className=\"text-muted\">\n            We'll never share your email with anyone else.\n          </Form.Text>\n        </Form.Group>\n\n        <Form.Group controlId=\"formBasicPassword\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            value={password}\n            onChange={(event) => setPassword(event.target.value)}\n            type=\"password\"\n            placeholder=\"Password\"\n            required\n          />\n        </Form.Group>\n        <Form.Group className=\"mb-3\" controlId=\"iAmAnArtits\">\n          <Form.Check\n            type=\"checkbox\"\n            label=\"Sign up as store\"\n            value={isStore}\n            onChange={(event) => setIsStore(!isStore)}\n          />\n        </Form.Group>\n        {isStore && (\n          <Form.Group>\n            <Form.Label>Stamp limit:</Form.Label>\n            <Form.Control\n              value={stampLimit}\n              onChange={(event) => setStampLimit(event.target.value)}\n              type=\"number\"\n              min=\"1\"\n              max=\"10\"\n              placeholder=\"Stamp limit\"\n              required\n            />\n          </Form.Group>\n        )}\n\n        <Form.Group className=\"mt-5\">\n          <Button variant=\"primary\" type=\"submit\" onClick={submitForm}>\n            Sign up\n          </Button>\n        </Form.Group>\n        <Link to=\"/login\">Click here to log in</Link>\n      </Form>\n    </Container>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Container from \"react-bootstrap/Container\";\nimport Button from \"react-bootstrap/Button\";\nimport { login } from \"../../store/user/actions\";\nimport { selectToken } from \"../../store/user/selectors\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { Col } from \"react-bootstrap\";\n\nexport default function SignUp() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const dispatch = useDispatch();\n  const token = useSelector(selectToken);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (token !== null) {\n      history.push(\"/\");\n    }\n  }, [token, history]);\n\n  function submitForm(event) {\n    console.log(\"hi\");\n    event.preventDefault();\n\n    dispatch(login(email, password));\n\n    setEmail(\"\");\n    setPassword(\"\");\n  }\n\n  return (\n    <Container>\n      <Form as={Col} md={{ span: 6, offset: 3 }} className=\"mt-5\">\n        <h1 className=\"mt-5 mb-5\">Login</h1>\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Label>Email address</Form.Label>\n          <Form.Control\n            value={email}\n            onChange={(event) => setEmail(event.target.value)}\n            type=\"email\"\n            placeholder=\"Enter email\"\n            required\n          />\n        </Form.Group>\n\n        <Form.Group controlId=\"formBasicPassword\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            value={password}\n            onChange={(event) => setPassword(event.target.value)}\n            type=\"password\"\n            placeholder=\"Password\"\n            required\n          />\n        </Form.Group>\n        <Form.Group className=\"mt-5\">\n          <Button variant=\"primary\" type=\"submit\" onClick={submitForm}>\n            Log in\n          </Button>\n        </Form.Group>\n        <Link to=\"/signup\" style={{ textAlign: \"center\" }}>\n          Click here to sign up\n        </Link>\n      </Form>\n    </Container>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { selectToken, selectUser } from \"../store/user/selectors\";\nimport axios from \"axios\";\nimport QRCode from \"react-qr-code\";\n\nexport default function QRCodePage() {\n  const token = useSelector(selectToken);\n  const history = useHistory();\n  const user = useSelector(selectUser);\n  const [bean, setBean] = useState(\"1\");\n  const [quantity, setQuantity] = useState(0);\n  const [qrCodeValue, setQrCodeValue] = useState(null);\n\n  console.log(JSON.stringify(user));\n\n  async function onSubmitForm(event) {\n    event.preventDefault();\n\n    try {\n      const response = await axios.get(\n        `/api/store/qr?storeuser=${user.store.id}&quantity=${quantity}&bean=${bean}`\n      );\n      console.log(response.data.qrCodeUrl);\n      setQrCodeValue(response.data.qrCodeUrl);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  return (\n    <div className=\"animation\" style={{ textAlign: \"center\", marginTop: 60 }}>\n      <h1\n        style={{\n          fontSize: 35,\n          fontFamily: \"lobster\",\n        }}\n      >\n        Generate QR code:\n      </h1>\n      <div\n        style={{\n          justifyContent: \"center\",\n          marginTop: 40,\n          alignItems: \"center\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignSelf: \"stretch\",\n        }}\n      >\n        <label for=\"beans\">Coffee bean:</label>\n        <select\n          style={{ width: \"50%\" }}\n          value={bean}\n          onChange={(e) => setBean(e.target.value)}\n          name=\"beans\"\n          id=\"beans\"\n          form=\"beanform\"\n        >\n          <option value=\"1\">Brazil</option>\n          <option value=\"2\">Peru</option>\n          <option value=\"3\">Costa Rica</option>\n          <option value=\"4\">Uganda</option>\n          <option value=\"5\">Colombia</option>\n        </select>\n\n        <label for=\"quantity\">Quantity (between 1 and 5):</label>\n        <input\n          style={{ width: \"50%\" }}\n          value={quantity}\n          onChange={(e) => setQuantity(e.target.value)}\n          type=\"number\"\n          id=\"quantity\"\n          name=\"quantity\"\n          min=\"1\"\n          max=\"5\"\n        ></input>\n\n        <button\n          style={{ marginTop: 20 }}\n          type=\"button\"\n          class=\"btn btn-dark\"\n          onClick={onSubmitForm}\n        >\n          Generate QR code\n        </button>\n        <div>\n          <div style={{ marginTop: 50 }}>\n            {qrCodeValue && <QRCode value={qrCodeValue} />}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { selectToken } from \"../store/user/selectors\";\nimport { useSelector } from \"react-redux\";\nimport CoffeeCup from \"../components/CoffeCup\";\nimport { Card } from \"react-bootstrap\";\n\nexport default function MyCardsPage() {\n  const [myStampCards, setMyStampCards] = useState([]);\n  const token = useSelector(selectToken);\n  const userId = localStorage.getItem(\"id\");\n  // console.log(\"user id\", userId);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const response = await axios.get(`/api/transaction/mycards/${userId}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        console.log(\"My cards:\", response.data);\n        setMyStampCards(response.data);\n      } catch (e) {\n        console.log(\"error:\", e);\n      }\n    })();\n  }, []);\n\n  return (\n    <div\n      className=\"animation\"\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"column\",\n        textAlign: \"center\",\n        marginTop: 50,\n      }}\n    >\n      <h1\n        style={{\n          fontSize: 30,\n          fontFamily: \"lobster\",\n        }}\n      >\n        {\" \"}\n        Your active stamp cards:{\" \"}\n      </h1>\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n        }}\n      >\n        {!myStampCards\n          ? \"Loading\"\n          : myStampCards.map((stampCard) => {\n              return stampCard.stamps > 0 ? (\n                <div key={stampCard.id} style={{ marginTop: 20 }}>\n                  <Card className=\"card\" style={{ width: \"18rem\" }}>\n                    <Card.Body>\n                      <Card.Title>{stampCard.store_name}</Card.Title>\n                      <div style={{ display: \"flex\", justifyContent: \"row\" }}>\n                        {[...Array(stampCard.stamps)].map((e, i) => (\n                          <div>\n                            <CoffeeCup />\n                            <p></p>\n                          </div>\n                        ))}\n                      </div>\n                    </Card.Body>\n                  </Card>\n                </div>\n              ) : (\n                <div></div>\n              );\n            })}\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport axios from \"axios\";\nimport { selectToken, selectUser } from \"../store/user/selectors\";\nimport { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport CoffeeCup from \"../components/CoffeCup\";\nimport { Card } from \"react-bootstrap\";\nimport \"../App.css\";\nexport default function CardDetailsPage() {\n  const [myCard, setMyCard] = useState(null);\n  const token = useSelector(selectToken);\n  const { storeId } = useParams();\n  const user = useSelector(selectUser);\n  // const userToken = useSelector(getUserWithStoredToken);\n  const userId = localStorage.getItem(\"id\");\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const response = await axios.get(`/api/transaction/${storeId}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        console.log(\"current stamps:\", response.data);\n        setMyCard(response.data);\n      } catch (e) {\n        console.log(\"error:\", e);\n      }\n    })();\n  }, []);\n\n  if (!myCard) return <div>Loading!</div>;\n  // console.log(\"my card\", myCard);\n  return (\n    <div\n      className=\"animation\"\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"column\",\n        textAlign: \"center\",\n        alignItems: \"center\",\n        marginTop: 50,\n      }}\n    >\n      <h1 style={{ fontSize: 30, marginTop: 30, marginBottom: 25 }}>\n        {\" \"}\n        Enjoy your coffee!\n      </h1>\n      <Card className=\"card\" style={{ width: \"18rem\" }}>\n        <Card.Body>\n          <Card.Title>{myCard.store}</Card.Title>\n          <div style={{ display: \"flex\", justifyContent: \"row\" }}>\n            {[...Array(myCard.currentStamps)].map((e, i) => (\n              <div>\n                <CoffeeCup />\n              </div>\n            ))}\n          </div>\n        </Card.Body>\n      </Card>\n      <div>\n        <h3\n          style={{\n            textAlign: \"center\",\n            marginTop: 10,\n            fontSize: 20,\n          }}\n        >\n          {user.name}, you need {myCard.stampLimit - myCard.currentStamps} more\n          stamps to get a voucher.\n        </h3>\n        <p>Are you curious about which beans are we using?</p>\n        <button type=\"button\" class=\"btn btn-dark\">\n          <Link to={`/beans/${myCard.lastBean.id}`} style={{ color: \"white\" }}>\n            Learn more about {myCard.lastBean.name} bean.\n          </Link>{\" \"}\n        </button>\n      </div>\n    </div>\n  );\n}\n\n{\n  /* <Link to={`/beans/${myCard.lastBean.id}`}>\n            Learn more about {myCard.lastBean.name} bean.\n          </Link> */\n}\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nimport { Redirect } from \"react-router\";\nimport {\n  BrowserRouter as Router,\n  Link,\n  useLocation,\n  useHistory,\n} from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { selectToken } from \"../store/user/selectors\";\n\nfunction useQuery() {\n  const { search } = useLocation();\n\n  return React.useMemo(() => new URLSearchParams(search), [search]);\n}\n\nasync function transaction(userToken, token, store, bean, quantity) {\n  console.log(userToken, token, store, bean, quantity);\n}\n\nexport default function ScanStampPage() {\n  const query = useQuery();\n  const otpToken = query.get(\"token\");\n  const storeUser = query.get(\"storeuser\");\n  const bean = query.get(\"bean\");\n  const quantity = query.get(\"quantity\");\n  const history = useHistory();\n  const [scanFailed, setScanFailed] = useState(false);\n  const token = useSelector(selectToken);\n\n  console.log(\n    `the otp: ${otpToken}, the storeUser: ${storeUser}, the bean: ${bean}, quantity: ${quantity}`\n  );\n  useEffect(() => {\n    (async () => {\n      try {\n        const response = await axios.post(\n          `/api/transaction?storeuser=${storeUser}&quantity=${quantity}&bean=${bean}&token=${otpToken}`,\n          {},\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n        history.push(`carddetails/${storeUser}`);\n      } catch (e) {\n        setScanFailed(true);\n      }\n    })();\n  }, []);\n\n  return (\n    <div>\n      <h1>Loading!</h1>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport CoffeeCup from \"../components/CoffeCup\";\nimport { Card } from \"react-bootstrap\";\nimport { useSelector } from \"react-redux\";\nimport {\n  BrowserRouter as Router,\n  Link,\n  useLocation,\n  useHistory,\n} from \"react-router-dom\";\nimport { selectToken } from \"../store/user/selectors\";\n\nfunction useQuery() {\n  const { search } = useLocation();\n\n  return React.useMemo(() => new URLSearchParams(search), [search]);\n}\n\nexport default function ScanVoucherPage() {\n  const query = useQuery();\n  const voucherId = query.get(\"id\");\n  const [claimedVoucher, setClaimedVoucher] = useState(null);\n  const token = useSelector(selectToken);\n  const [errorMessage, setErrorMessage] = useState(null);\n  useEffect(() => {\n    (async () => {\n      try {\n        const response = await axios.put(\n          `/api/vouchers/${voucherId}`,\n          {},\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n        setClaimedVoucher(response.data);\n        console.log(response.data);\n        console.log(\"claimed voucher\", claimedVoucher);\n      } catch (e) {\n        console.log(\"error\", e.response.data);\n        setErrorMessage(e.response.data);\n      }\n    })();\n  }, []);\n\n  return (\n    <div>\n      {errorMessage === null && claimedVoucher !== null ? (\n        <div style={{ marginTop: 20 }}>\n          <Card className=\"card\" style={{ width: \"18rem\" }}>\n            <Card.Body>\n              <Card.Title>\n                Valid for a free coffee at {claimedVoucher.store.name}\n              </Card.Title>\n\n              <CoffeeCup />\n            </Card.Body>\n          </Card>\n        </div>\n      ) : (\n        <h2>{errorMessage}</h2>\n      )}\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport axios from \"axios\";\nexport default function BeanDetails(props) {\n  const [bean, setBean] = useState(\"\");\n  const { beanId } = useParams();\n  const userId = localStorage.getItem(\"id\");\n  useEffect(() => {\n    (async () => {\n      try {\n        const response = await axios.get(`/api/beans/${beanId}`);\n        console.log(\"Bean:\", response.data);\n        setBean(response.data);\n      } catch (e) {\n        console.log(\"error:\", e);\n      }\n    })();\n  }, []);\n\n  return (\n    <div className=\"animation\" style={{ textAlign: \"center\", marginTop: 50 }}>\n      <h1 style={{ fontSize: 25 }}>All you need to know about beans from: </h1>\n      <div key={bean.id}>\n        <h2\n          style={{\n            fontSize: 45,\n            fontFamily: \"lobster\",\n            marginTop: 50,\n            fontWeight: \"bold\",\n          }}\n        >\n          {bean.name}\n        </h2>\n        <h3 style={{ fontSize: 20, fontWeight: \"bold\", marginTop: 30 }}>\n          {\" \"}\n          {bean.facts}{\" \"}\n        </h3>\n        {bean.history}\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { selectToken, selectUser } from \"../store/user/selectors\";\nimport { useSelector } from \"react-redux\";\nimport \"../App.css\";\nimport QRCode from \"react-qr-code\";\nimport { Modal, Button } from \"react-bootstrap\";\n\nexport default function MyVouchers() {\n  const [myVouchers, setMyVouchers] = useState([]);\n  const token = useSelector(selectToken);\n  const userId = localStorage.getItem(\"id\");\n  const user = useSelector(selectUser);\n\n  const [qrCodeValue, setQrCodeValue] = useState(null);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const response = await axios.get(`/api/vouchers/${userId}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        console.log(\"My vouchers:\", response.data);\n        setMyVouchers(response.data);\n      } catch (e) {\n        console.log(\"error:\", e);\n      }\n    })();\n  }, []);\n\n  return (\n    <div\n      className=\"animation\"\n      style={{\n        textAlign: \"center\",\n        marginTop: 50,\n      }}\n    >\n      <h1\n        style={{\n          fontSize: 25,\n          fontFamily: \"lobster\",\n        }}\n      >\n        {user.name}, time for free coffee!\n      </h1>\n\n      {!Array.isArray(myVouchers)\n        ? `You have no vouchers yet.`\n        : myVouchers.map((voucher) => {\n            return (\n              <div key={voucher.id}>\n                <Button\n                  variant=\"primary\"\n                  onClick={() => {\n                    const baseUrl = window.location.origin;\n                    const url = `${baseUrl}/scanvoucher?id=${voucher.id}&storeId=${voucher.storeId}`;\n                    console.log(url);\n                    setQrCodeValue(url);\n                  }}\n                >\n                  {voucher.store.name}\n                </Button>\n\n                <Modal\n                  show={qrCodeValue != null}\n                  onHide={() => setQrCodeValue(null)}\n                >\n                  <Modal.Header closeButton>\n                    <Modal.Title>Show QR code to use voucher</Modal.Title>\n                  </Modal.Header>\n                  <Modal.Body>\n                    {qrCodeValue && <QRCode value={qrCodeValue} />}\n                  </Modal.Body>\n                  <Modal.Footer>\n                    <Button\n                      variant=\"secondary\"\n                      onClick={() => setQrCodeValue(null)}\n                    >\n                      Close\n                    </Button>\n                  </Modal.Footer>\n                </Modal>\n              </div>\n            );\n          })}\n    </div>\n  );\n}\n","import HomePage from \"./pages/HomePage\";\nimport Navigation from \"./components/Navigation\";\nimport { Switch, Route } from \"react-router-dom\";\nimport SignUp from \"./pages/SignUp\";\nimport Login from \"./pages/Login\";\nimport React, { PureComponent } from \"react\";\nimport QRcodePage from \"./pages/QRCodePage\";\nimport MyCardsPage from \"./pages/MyCardsPage\";\nimport CardDetailsPage from \"./pages/CardDetailsPage\";\nimport ScanStampPage from \"./pages/ScanStampPage\";\nimport ScanVoucherPage from \"./pages/ScanVoucherPage\";\nimport { useEffect } from \"react\";\nimport { getUserWithStoredToken } from \"./store/user/actions\";\nimport BeanDetails from \"./pages/BeanDetails\";\n\nimport { useDispatch } from \"react-redux\";\nimport MyVouchers from \"./pages/MyVouchers\";\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getUserWithStoredToken());\n  }, [dispatch]);\n\n  return (\n    <div className=\"App\">\n      <Navigation />\n      <Switch>\n        <Route path=\"/\" exact component={HomePage} />\n        <Route path=\"/signup\" component={SignUp} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/qr\" component={QRcodePage} />\n        <Route path=\"/mycards\" component={MyCardsPage} />\n        <Route path=\"/carddetails/:storeId\" component={CardDetailsPage} />\n        <Route path=\"/scan\" component={ScanStampPage} />\n        <Route path=\"/myvouchers\" component={MyVouchers} />\n        <Route path=\"/beans/:beanId\" component={BeanDetails} />\n        <Route path=\"/scanvoucher\" component={ScanVoucherPage} />\n        <Route path=\"/storechart\" component={PureComponent} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { LOG_OUT, LOGIN_SUCCESS, TOKEN_STILL_VALID } from \"./actions\";\n\nconst initialState = {\n  token: localStorage.getItem(\"token\"),\n  name: null,\n  email: null,\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      localStorage.setItem(\"token\", action.payload.token);\n      localStorage.setItem(\"id\", action.payload.id);\n      return { ...state, ...action.payload };\n\n    case LOG_OUT:\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"id\");\n      return { ...initialState, token: null };\n\n    case TOKEN_STILL_VALID:\n      return { ...state, ...action.payload };\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport user from \"./user/reducer\";\n\nexport default combineReducers({\n  user,\n});\n","import { createStore, applyMiddleware, compose } from \"redux\";\n\nimport ReduxThunk from \"redux-thunk\";\nimport reducer from \"./rootReducer\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst enhancer = composeEnhancers(applyMiddleware(ReduxThunk));\n\nconst store = createStore(reducer, enhancer);\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport store from \"./store\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <Router>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}